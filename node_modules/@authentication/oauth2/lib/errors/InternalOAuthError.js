"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const base_error_1 = require("@authentication/base-error");
/**
 * `InternalOAuthError` error.
 *
 * InternalOAuthError wraps errors generated by @moped/oauth.  By wrapping these
 * objects, error messages can be formatted in a manner that aids in debugging
 * OAuth issues.
 */
class InternalOAuthError extends base_error_1.default {
    constructor(message, oauthError) {
        let m = message;
        if (oauthError) {
            if (oauthError instanceof Error) {
                m = oauthError.toString();
            } else if (oauthError.statusCode && oauthError.data) {
                m += ' (status: ' + oauthError.statusCode + ' data: ' + oauthError.data + ')';
            }
        }
        super('INTERNAL_OAUTH_ERROR', m);
        this.oauthMessage = message;
        this.oauthError = oauthError;
    }
}
exports.default = InternalOAuthError;
//# sourceMappingURL=InternalOAuthError.js.map