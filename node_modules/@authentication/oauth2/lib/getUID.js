"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const crypto_1 = require("crypto");
function getUID(count) {
    return new Promise((resolve, reject) => {
        crypto_1.randomBytes(count, (err, buf) => {
            if (err) {
                reject(err);
            } else {
                resolve(buf.toString('base64').replace(/[^a-zA-Z0-9]/g, ''));
            }
        });
    }).then(str => {
        if (str.length >= count) {
            return str.substr(0, count);
        } else {
            return getUID(count - str.length).then(extra => str + extra);
        }
    });
}
exports.default = getUID;
//# sourceMappingURL=getUID.js.map